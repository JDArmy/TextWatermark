
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Text Watermark library in Python.">
      
      
        <meta name="author" content="Monyer">
      
      
      
        <link rel="prev" href="../../example/">
      
      
        <link rel="next" href="../conversion/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.15">
    
    
      
        <title>TextWatermark - TextWatermark Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#textwatermark" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../" title="TextWatermark Docs" class="md-header__button md-logo" aria-label="TextWatermark Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TextWatermark Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TextWatermark
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="../../../api/main/" hreflang="zh" class="md-select__link">
                    Chinese
                  </a>
                </li>
              
                <li class="md-select__item">
                  <a href="./" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/JDArmy/TextWatermark" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../" class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../usage/" class="md-tabs__link">
        Usage
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../changelog/" class="md-tabs__link">
      Changelog
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../example/" class="md-tabs__link">
      Example
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        API Documents
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../templates/" class="md-tabs__link">
      Templates
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../development/" class="md-tabs__link">
      Development Guide
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../about/" class="md-tabs__link">
      About
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="TextWatermark Docs" class="md-nav__button md-logo" aria-label="TextWatermark Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    TextWatermark Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/JDArmy/TextWatermark" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/" class="md-nav__link">
        Coding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cmdline/" class="md-nav__link">
        CMD Line
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../example/" class="md-nav__link">
        Example
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          API Documents
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          API Documents
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          TextWatermark
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        TextWatermark
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#textwatermark" class="md-nav__link">
    TextWatermark
  </a>
  
    <nav class="md-nav" aria-label="TextWatermark">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark" class="md-nav__link">
    TextWatermark
  </a>
  
    <nav class="md-nav" aria-label="TextWatermark">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark--example" class="md-nav__link">
    Example:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.text" class="md-nav__link">
    text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.wmc" class="md-nav__link">
    wmc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.wmt" class="md-nav__link">
    wmt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.wm_max" class="md-nav__link">
    wm_max
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.wm_fixed_len" class="md-nav__link">
    wm_fixed_len
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.tpl_type" class="md-nav__link">
    tpl_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.wm_mode" class="md-nav__link">
    wm_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.wm_base" class="md-nav__link">
    wm_base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.start_at" class="md-nav__link">
    start_at
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.wm_loop" class="md-nav__link">
    wm_loop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.wm_flag_bit" class="md-nav__link">
    wm_flag_bit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.set_tpl" class="md-nav__link">
    set_tpl()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.set_tpl_type" class="md-nav__link">
    set_tpl_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.set_wm_max" class="md-nav__link">
    set_wm_max()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.set_text" class="md-nav__link">
    set_text()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.set_text_file" class="md-nav__link">
    set_text_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.insert_watermark" class="md-nav__link">
    insert_watermark()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.save_to_file" class="md-nav__link">
    save_to_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.export_params" class="md-nav__link">
    export_params()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.retrieve_watermark_from_bin" class="md-nav__link">
    retrieve_watermark_from_bin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#textwatermark.main.TextWatermark.retrieve_watermark" class="md-nav__link">
    retrieve_watermark()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../conversion/" class="md-nav__link">
        WMConversion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../template/" class="md-nav__link">
        WMTemplate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../defines/" class="md-nav__link">
        Defines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cmdline/" class="md-nav__link">
        CMD Line
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../templates/" class="md-nav__link">
        Templates
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../development/" class="md-nav__link">
        Development Guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>TextWatermark</h1>

<h2 id="textwatermark">TextWatermark</h2>


<div class="doc doc-object doc-module">



  <div class="doc doc-contents first">
  
      <p>Main Class of TextWatermark</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="textwatermark.main.TextWatermark" class="doc doc-heading">
        <code>TextWatermark</code>


</h3>


  <div class="doc doc-contents ">

  
      <p>A class to insert watermark into plain text</p>
<h6 id="textwatermark.main.TextWatermark--example">Example:</h6>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><a href="#__codelineno-0-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">import</span> <span class="nn">os</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><a href="#__codelineno-0-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><a href="#__codelineno-0-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="kn">from</span> <span class="nn">textwatermark.defines</span> <span class="kn">import</span> <span class="n">WMMode</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><a href="#__codelineno-0-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="kn">from</span> <span class="nn">textwatermark.main</span> <span class="kn">import</span> <span class="n">TextWatermark</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><a href="#__codelineno-0-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="kn">from</span> <span class="nn">textwatermark.templates</span> <span class="kn">import</span> <span class="n">homograph_numbers</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><a href="#__codelineno-0-6"><span class="linenos" data-linenos=" 6 "></span></a>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><a href="#__codelineno-0-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="n">wm_mode</span> <span class="o">=</span> <span class="n">WMMode</span><span class="o">.</span><span class="n">REAL_NUMBER</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><a href="#__codelineno-0-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="n">template</span> <span class="o">=</span> <span class="n">homograph_numbers</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><a href="#__codelineno-0-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="n">wm_max</span> <span class="o">=</span> <span class="s1">&#39;9&#39;</span><span class="o">*</span><span class="mi">9</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><a href="#__codelineno-0-10"><span class="linenos" data-linenos="10 "></span></a><span class="n">confusables_chars_key</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><a href="#__codelineno-0-11"><span class="linenos" data-linenos="11 "></span></a>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><a href="#__codelineno-0-12"><span class="linenos" data-linenos="12 "></span></a><span class="c1"># init</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><a href="#__codelineno-0-13"><span class="linenos" data-linenos="13 "></span></a><span class="n">wm</span> <span class="o">=</span> <span class="n">TextWatermark</span><span class="p">(</span><span class="n">wm_mode</span><span class="p">)</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><a href="#__codelineno-0-14"><span class="linenos" data-linenos="14 "></span></a>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><a href="#__codelineno-0-15"><span class="linenos" data-linenos="15 "></span></a>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><a href="#__codelineno-0-16"><span class="linenos" data-linenos="16 "></span></a><span class="n">wm</span> <span class="o">=</span> <span class="n">set_tpl</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">CONFUSABLES_CHARS</span><span class="p">,</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><a href="#__codelineno-0-17"><span class="linenos" data-linenos="17 "></span></a>             <span class="n">template</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><a href="#__codelineno-0-18"><span class="linenos" data-linenos="18 "></span></a>             <span class="n">confusables_chars_key</span><span class="p">)</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><a href="#__codelineno-0-19"><span class="linenos" data-linenos="19 "></span></a><span class="n">wm</span><span class="o">.</span><span class="n">set_wm_max</span><span class="p">(</span><span class="n">wm_max</span><span class="p">)</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><a href="#__codelineno-0-20"><span class="linenos" data-linenos="20 "></span></a><span class="n">wm</span><span class="o">.</span><span class="n">set_text_file</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><a href="#__codelineno-0-21"><span class="linenos" data-linenos="21 "></span></a>    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;/../tests/text/1.txt&#39;</span><span class="p">))</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><a href="#__codelineno-0-22"><span class="linenos" data-linenos="22 "></span></a>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><a href="#__codelineno-0-23"><span class="linenos" data-linenos="23 "></span></a><span class="c1"># Insert watermark to text</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><a href="#__codelineno-0-24"><span class="linenos" data-linenos="24 "></span></a><span class="n">wm_str</span> <span class="o">=</span> <span class="s1">&#39;123456789&#39;</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><a href="#__codelineno-0-25"><span class="linenos" data-linenos="25 "></span></a>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><a href="#__codelineno-0-26"><span class="linenos" data-linenos="26 "></span></a><span class="n">wm_text</span> <span class="o">=</span> <span class="n">wm</span><span class="o">.</span><span class="n">insert_watermark</span><span class="p">(</span><span class="n">wm_str</span><span class="p">)</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><a href="#__codelineno-0-27"><span class="linenos" data-linenos="27 "></span></a>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><a href="#__codelineno-0-28"><span class="linenos" data-linenos="28 "></span></a><span class="c1"># Save the parameters to retrieve the watermark</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><a href="#__codelineno-0-29"><span class="linenos" data-linenos="29 "></span></a><span class="n">params</span> <span class="o">=</span> <span class="n">wm</span><span class="o">.</span><span class="n">export_params</span><span class="p">()</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><a href="#__codelineno-0-30"><span class="linenos" data-linenos="30 "></span></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><a href="#__codelineno-0-31"><span class="linenos" data-linenos="31 "></span></a><span class="c1"># retrieve the watermark</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><a href="#__codelineno-0-32"><span class="linenos" data-linenos="32 "></span></a><span class="n">wm_out_str</span> <span class="o">=</span> <span class="n">TextWatermark</span><span class="o">.</span><span class="n">retrieve_watermark</span><span class="p">(</span><span class="n">wm_text</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><a href="#__codelineno-0-33"><span class="linenos" data-linenos="33 "></span></a><span class="nb">print</span><span class="p">(</span><span class="n">wm_text</span><span class="p">)</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><a href="#__codelineno-0-34"><span class="linenos" data-linenos="34 "></span></a>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><a href="#__codelineno-0-35"><span class="linenos" data-linenos="35 "></span></a><span class="k">assert</span> <span class="n">wm_out_str</span> <span class="o">==</span> <span class="n">wm_str</span>
</code></pre></div>



  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.text" class="doc doc-heading">
<code class="highlight language-python"><span class="n">text</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Text to be watermarked.</p>
<p>Set text by <code>self.set_text(text)</code> or <code>self.set_text_file(file_path)</code></p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.wmc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wmc</span><span class="p">:</span> <span class="n">WMConversion</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Instance of WMConverison</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.wmt" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wmt</span><span class="p">:</span> <span class="n">WMTemplate</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Instance of WMTemplate</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.wm_max" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wm_max</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Maximum watermark string.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.wm_fixed_len" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wm_fixed_len</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>The longest (or largest) watermark string. 
When wm_flag_bit is true,
The value of wm_max_len is 1 larger the actual value</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.tpl_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tpl_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>template type in WMTemplateType</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.wm_mode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wm_mode</span> <span class="o">=</span> <span class="n">wm_mode</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Watermark encoding mode. Setting different watermark modes will effectively
reduce the size of the watermark string.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.wm_base" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wm_base</span> <span class="o">=</span> <span class="n">wm_base</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>watermark convert base must be between 2 and 36,
and less or euqal than len(list({template}.CONFUSABLES_CHARS.values())[0])</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.start_at" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_at</span> <span class="o">=</span> <span class="n">start_at</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>index where the watermark will be inserted. Defaults to 0.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.wm_loop" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wm_loop</span> <span class="o">=</span> <span class="n">wm_loop</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>If watermark will be repeated until it is inserted to end.
Defaults to False.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="textwatermark.main.TextWatermark.wm_flag_bit" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wm_flag_bit</span> <span class="o">=</span> <span class="n">wm_flag_bit</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>If True, add a flag bit to watermark. Defaults to True.</p>
  </div>

</div>



<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">wm_mode</span><span class="p">,</span> <span class="n">wm_base</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">start_at</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">wm_loop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">wm_flag_bit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Class TextWatermark init</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>wm_mode</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="textwatermark.defines.WMMode" href="../defines/#textwatermark.defines.WMMode">WMMode</a></code>
          </td>
          <td><p>WMMode to be set</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>wm_base</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Watermark convert base.</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>start_at</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>index where the watermark will be inserted. Defaults to 0.</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>wm_loop</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>If watermark will be repeated until it is inserted to end.
Defaults to False.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>wm_flag_bit</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>If True, add a flag bit to watermark. Defaults to True.</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>if <code>base</code> is not in the range [2, 36]</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.set_tpl" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_tpl</span><span class="p">(</span><span class="n">confusables_chars</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">confusables_chars_key</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Set template arguments and get instance of WMTemplate</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>confusables_chars</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[dict, list]</code>
          </td>
          <td><p>Confusables chars</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="textwatermark.defines.WMMethod" href="../defines/#textwatermark.defines.WMMethod">WMMethod</a></code>
          </td>
          <td><p>Method of watermark</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>confusables_chars_key</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Confusables chars key</p></td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.set_tpl_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_tpl_type</span><span class="p">(</span><span class="n">tpl_type</span><span class="p">,</span> <span class="n">confusables_chars_key</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Set template type</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>tpl_type</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="textwatermark.template_type.WMTemplateType" href="../defines/#textwatermark.template_type.WMTemplateType">WMTemplateType</a></code>
          </td>
          <td><p>Template type</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>confusables_chars_key</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Confusables chars key</p></td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.set_wm_max" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_wm_max</span><span class="p">(</span><span class="n">wm_max</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Set the length of the longest (or largest) watermark string.</p>
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code><span class="linenos" data-linenos="1 "></span>Since the input watermark string is variable in length,
<span class="linenos" data-linenos="2 "></span>this will bring trouble to the retrieval of the watermark:
<span class="linenos" data-linenos="3 "></span>it will be difficult for us to determine the boundary of the watermark,
<span class="linenos" data-linenos="4 "></span>or judge the loss of the watermark. Therefore, in this library,
<span class="linenos" data-linenos="5 "></span>we will calculate and set the length of the longest (or largest)
<span class="linenos" data-linenos="6 "></span>watermark string as the default length of the watermark string.
</code></pre></div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>wm_max</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The longest (or largest) watermark string.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.set_text" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Set text string to watermark</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>text</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>text to be watermarked</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.set_text_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_text_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Set text string from read file.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>path</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Text file path</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>If file not found</p></td>
        </tr>
        <tr>
          <td>
                <code>OSError</code>
          </td>
          <td><p>If file cannnot by read</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.insert_watermark" class="doc doc-heading">
<code class="highlight language-python"><span class="n">insert_watermark</span><span class="p">(</span><span class="n">wm_str</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Insert watermark to text</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>wm_str</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Watermark string</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td><p>Watermarked text</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>If watermark string is larger than wm_max</p></td>
        </tr>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>If there is not enough space to insert a watermark</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.save_to_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save_to_file</span><span class="p">(</span><span class="n">wm_text</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Save watermarked text string to a file</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>wm_text</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>text to be watermarked</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>path</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>save to text file path</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>OSError</code>
          </td>
          <td><p>If file cannnot be created</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.export_params" class="doc doc-heading">
<code class="highlight language-python"><span class="n">export_params</span><span class="p">()</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Export watermark params to json string</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td><p>Exported JSON string</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.retrieve_watermark_from_bin" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_watermark_from_bin</span><span class="p">(</span><span class="n">wm_bin</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">force_check_version</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Retrieve watermark from binary string.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>wm_bin</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>watermark binary string</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>params</code></td>
          <td>
                <code>json</code>
          </td>
          <td><p>params containing the watermark options</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td><p>watermark string.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="textwatermark.main.TextWatermark.retrieve_watermark" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_watermark</span><span class="p">(</span><span class="n">wm_text</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">force_check_version</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Retrieve watermark from watermarked text</p>

<details class="note">
  <summary>This is a static method</summary>
  <p>You can call this method by <code>TextWatermark.retrieve_watermark</code></p>
</details>
<details class="warning">
  <summary>Retrieve watermark method is not a silver bullet</summary>
  <p>In many cases, the watermarked text may be transferred several times,
which may cause the watermark to change or disappear. At this time,
the watermark information cannot be retrieved through this function.
In the case of screen capture and screen capture, manual judgment is
required to find out the watermark information.</p>
</details>
  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>wm_text</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>watermarked text</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>params</code></td>
          <td>
                <code>json</code>
          </td>
          <td><p>params containing the watermark options</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td><p>Watermark string.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "toc.integrate", "toc.follow", "navigation.tabs", "navigation.top", "navigation.tracking", "navigation.prune"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="../../../js/extra.js"></script>
      
    
  </body>
</html>